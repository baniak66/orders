<% helpers = ActionController::Base.helpers %>
<template>
  <nav class="navbar navbar-default">
    <div class="container">
      <div class="navbar-header">
        <div class="navbar-brand">
          Orders
        </div>
      </div>
      <div id="navbar">
        <ul v-if="user != {}" class="nav navbar-nav navbar-right">
          <li><a href="#">{{user.name}}</a></li>
        </ul>
        <ul v-if="user.status == 'no user'" class="nav navbar-nav navbar-right">
          <li><%= helpers.link_to 'Facebook', '/auth/facebook' %></li>
        </ul>
      </div>
    </div>
  </nav>
</template>

<script>
  import { mapGetters } from 'vuex'

  export default {
    name: 'top',
    data () {
      return {

      }
    },
    computed: mapGetters({
      user: 'current_user'
    }),
    mounted: function () {
      this.$store.dispatch('CHECK_USER')
    }
  }
</script>
